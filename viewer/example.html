<script src="lookup.js"></script>
<script>
	let skylookup = new SkyLookUp('skysql');
	function search() {
		let str = document.getElementById('input_str').value
		
		changePrint()
		skylookup.lookup(str, 'c1', searchCallback)
		console.log("SELECT * FROM "+document.getElementById('FROM').innerText+" WHERE "+document.getElementById('WHERE').innerText+"=\'"+str+"\'");
	}

	function searchCallback(err, result) {
		if(err) {
			changePrint(err)
		} else {
			changePrint(result)
		}
	}

	function changePrint(msg = null) {
		if (typeof document.getElementById('print') !== 'undefined') {
			if (msg == null) {
				document.getElementById('print').innerHTML = '...'
			} else {
				document.getElementById('print').innerHTML = msg
			}
		}
	}
</script>

<style>
	body {
		margin: 20px;
		background: #1d1e21;
		color: #FFF;
		font-family: sans-serif;
		text-align: center;
		font-size: 120%;
	}
	select, input, button {
		padding: 13px 40px;
		font-size: 12px;
		background: #25272a;
		color: #FFF;
		border: none;
	}
	button {
		background: #333538;
		color: #19cf86;
	}
	input {
		width: 300px;
	}
	a, a:hover {
		color: #FFF;
	}
	h1 {
		margin-top: 50px;
	}
	.schbox {
		margin-top: 50px;
		margin-bottom: 50px;
	}

</style>

<h1>SkyLookup demo</h1>

<div class="schbox">
	<p id="print">Please input any 1-4 length word (can contain lower/uppercase letters and numbers), for example "Sia", "SkyDB", "6453", or "hold"<br>
		SkyLookup will find it in the 13 million word database!</p>
	<label>SELECT * FROM</label>
	<select id="FROM">
		<option value="table1">table1</option>
		<option value="table2">table2</option>
	</select>
	<label>WHERE</label>
	<select id="WHERE">
		<option value="id">id</option>
		<option value="value">value</option>
	</select>
	<label>=</label>
	
	<input id="input_str" placeholder="Type 4 letters or numbers"><button onclick="search()">Search!</button>
</div>

<p>Hey, the 615 MB <a href="data/index.txt">index files</a> are human readable ;)</p>
<p>Source: <a href="https://github.com/DaWe35/SkyLookup">GitHub</a></p>